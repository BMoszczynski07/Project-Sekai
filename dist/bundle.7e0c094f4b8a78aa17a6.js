(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var a=s.getElementsByTagName("script");if(a.length)for(var o=a.length-1;o>-1&&!e;)e=a[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p,t.p;const e=[{name:"Ready Steady",img:"./assets/ready_steady_song.jpg",authors:["Hatsune Miku","Kagamine Rin","Kagamine Len"],info:[{type:"Release Date",desc:"07/07/2021"},{type:"Music",desc:"GigaP"}],lvl:{easy:6,normal:15,hard:19,expert:25,master:33},notes:[{note:"regular",posY:20,range:[2,4]}]},{name:"Po Pi Po",img:"./assets/po_pi_po_song.jpg",authors:["Hatsune Miku"],info:[{type:"Release Date",desc:"07/07/2021"},{type:"Music",desc:"GigaP"}],lvl:{easy:6,normal:13,hard:18,expert:21,master:30},notes:[{note:"regular",posY:20,range:[2,4]}]},{name:"Ghost Rule",img:"./assets/ghost_rule_song.jpg",authors:["Hatsune Miku"],info:[{type:"Release Date",desc:"07/07/2021"},{type:"Music",desc:"GigaP"}],lvl:{easy:5,normal:14,hard:20,expert:22,master:29},notes:[{note:"regular",posY:20,range:[2,4]}]}],s=[{name:"Hatsune Miku",img:"./assets/Hatsune_Miku_pfp.png",desc:"Hatsune Miku (Japanese : 初音ミク) is a Japanese virtual singer created by Crypton Future Media",badges:[{type:"Age",desc:16},{type:"Release",desc:2007}]},{name:"Emu Otori",img:"./assets/Emu_pfp.png",desc:"Otori Emu (鳳えむ) is a first-year student at Miyamasuzaka Girls Academy.",badges:[{type:"Height",desc:"152cm"},{type:"Age",desc:16}]},{name:"All Vocaloids"}];document.addEventListener("DOMContentLoaded",(()=>{const t=new class{constructor(t,e){this.isGameMuted=!0,this.chosenDifficulty="hard",this.scroll=0,this.curSongId=0,this.handleCreateVocaloid=(t,e)=>{const s=document.createElement("li");if(s.classList.add("start__vocaloid"),"all"===e){s.classList.add("start__vocaloid--all","start__vocaloid--selected");const t=document.createElement("header");t.classList.add("start__vocaloid-name","start__vocaloid--all__name"),t.textContent="All Vocaloids",s.appendChild(t)}else{s.setAttribute("data-vocaloid",t.name);const e=document.createElement("div");e.classList.add("start__vocaloid-profile");const a=document.createElement("img");t.img&&(a.src=t.img),a.classList.add("start__vocaloid-pfp"),e.appendChild(a);const o=document.createElement("div");o.classList.add("start__vocaloid-info");const n=document.createElement("header");n.classList.add("start__vocaloid-name"),n.textContent=t.name;const l=document.createElement("p");l.classList.add("start__vocaloid-desc"),t.desc&&(l.textContent=t.desc);const i=document.createElement("ul");if(i.classList.add("start__vocaloid-badges"),t.badges)for(const e of t.badges){const t=document.createElement("li");let s;switch(e.type){case"Release Date":s="start__badge--release";break;case"Height":s="start__badge--height";break;case"Age":s="start__badge--age"}t.classList.add("start__vocaloid-badge"),t.classList.add(s||"unknown"),t.textContent+=e.type,t.textContent+=` ${e.desc}`,i.appendChild(t)}o.appendChild(n),o.appendChild(l),o.appendChild(i),s.appendChild(e),s.appendChild(o)}return s},this.handleCreateSong=(t,e)=>{const s=document.createElement("li");s.className="start__song";const a=document.createElement("div");a.className="start__song-pic";const o=document.createElement("img");o.className="start__song-img",o.src=t.img,a.appendChild(o);const n=document.createElement("div");n.className="start__song-about";const l=document.createElement("h1");l.className="start__song-title",l.textContent=t.name;const i=document.createElement("div");i.className="start__song-authors__container";const c=document.createElement("p");c.className="start__song-authors "+(0===e?"start__song-authors--slide-animation":""),i.appendChild(c);for(const[e,s]of t.authors.entries())c.textContent+=`${s}${e<t.authors.length-1?",":""} `;const r=document.createElement("h5");if(r.className="start__song-info",t.info)for(const[e,s]of t.info.entries())r.innerHTML+=`${s.type}: ${s.desc} ${e<t.info.length-1?"&bull;":""} `;n.appendChild(l),n.appendChild(i),n.appendChild(r);const d=document.createElement("div");d.className="start__song-level__overlay";const u=document.createElement("h5");u.className="start__song-lvl",u.textContent="lvl";const h=document.createElement("p");return h.className="start__song-level","auto"!==this.chosenDifficulty?h.textContent=`${t.lvl[this.chosenDifficulty]}`:(h.textContent="--",u.style.color="#606060",h.style.color="#878787"),d.appendChild(u),d.appendChild(h),s.appendChild(a),s.appendChild(n),s.appendChild(d),s},this.handleListScroll=(t,e,s)=>{if(t.preventDefault(),this.scroll++,this.scroll%12!=0)return;const a=new Audio;a.src="../../assets/song-scroll.mp3";const o=document.querySelectorAll(".start__song")[this.curSongId],n=document.querySelectorAll(".start__song-authors")[this.curSongId];if(t.deltaY>0){if(this.curSongId===this.songs.length-1)return;return this.curSongId++,document.querySelectorAll(".start__song")[this.curSongId].classList.add("start__song--selected"),n.classList.remove("start__song-authors--slide-animation"),o.classList.remove("start__song--selected"),document.querySelectorAll(".start__song-authors")[this.curSongId].classList.add("start__song-authors--slide-animation"),null==s||s.scrollTo({top:s.scrollTop+e,left:0,behavior:"smooth"}),void(this.isGameMuted||a.play())}0!==this.curSongId&&(this.curSongId--,document.querySelectorAll(".start__song")[this.curSongId].classList.add("start__song--selected"),n.classList.remove("start__song-authors--slide-animation"),o.classList.remove("start__song--selected"),document.querySelectorAll(".start__song-authors")[this.curSongId].classList.add("start__song-authors--slide-animation"),null==s||s.scrollTo({top:s.scrollTop-e,left:0,behavior:"smooth"}),this.isGameMuted||a.play())},this.handleListWheel=t=>{const e=document.querySelector(".start__songs-list");this.handleListScroll(t,76,e)},this.handleInitializeList=()=>{const t=document.querySelector(".start__songs-list");this.curSongId=0,document.querySelectorAll(".start__song")[this.curSongId].classList.add("start__song--selected"),console.log(this.songsLoaded),this.songsLoaded.length>1&&(null==t||t.addEventListener("wheel",this.handleListWheel))},this.handleShowSongs=t=>{const e=document.querySelectorAll(".start__song"),s=document.querySelectorAll(".start__vocaloid"),a=document.querySelector(".start__songs-list");null==a||a.removeEventListener("wheel",this.handleListWheel);for(const t of s)t.classList.remove("start__vocaloid--selected");const o=document.querySelector(t?`[data-vocaloid="${t}"]`:".start__vocaloid--all");null==o||o.classList.add("start__vocaloid--selected");for(const t of e)t.remove();const n=document.querySelector(".start__empty-list");if(null==n||n.remove(),a&&(a.scrollTop=0),null!==t?(console.log(t),this.songsLoaded=[...this.songs.filter((e=>e.authors.includes(t)))]):this.songsLoaded=this.songs,0===this.songsLoaded.length){const t=document.createElement("h1");return t.className="start__empty-list",t.textContent="Lista nie zawiera piosenek!",void(null==a||a.appendChild(t))}for(const[t,e]of this.songsLoaded.entries()){const s=this.handleCreateSong(e,t);null==a||a.appendChild(s)}this.handleInitializeList()},this.handleInitializeMuteOption=()=>{const t=document.querySelector(".start__mute-i"),e=document.querySelector(".start__mute-i__muted");null==t||t.addEventListener("click",(()=>{this.isGameMuted=!this.isGameMuted,e&&(e.style.opacity=this.isGameMuted?"1":"0")}))},this.songs=t,this.songsLoaded=t,this.vocaloids=e}handleShowVocaloids(){const t=document.querySelector(".start__vocaloids-list");for(const e of this.vocaloids){const s="All Vocaloids"===e.name?this.handleCreateVocaloid(e,"all"):this.handleCreateVocaloid(e,"regular");null==t||t.appendChild(s)}}}(e,s);t.handleShowSongs(null),t.handleInitializeMuteOption(),t.handleShowVocaloids(),document.querySelectorAll(".start__vocaloid").forEach((e=>{e.addEventListener("click",(()=>{const s=null==e?void 0:e.getAttribute("data-vocaloid");t.handleShowSongs(s)}))})),document.querySelectorAll(".start__lvl").forEach((e=>{e.addEventListener("click",(()=>{if(e.getAttribute("data-difficulty")!==t.chosenDifficulty&&!t.isGameMuted){const t=new Audio;t.src="./src/assets/click.wav",t.play()}}))}))}))})();
(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var a=s.getElementsByTagName("script");if(a.length)for(var o=a.length-1;o>-1&&!t;)t=a[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p;const t=[{name:"Ready Steady",img:"./assets/ready_steady_song.jpg",musicVideo:"./assets/ready_steady.mp4",authors:["Hatsune Miku","Kagamine Rin","Kagamine Len"],info:[{type:"Release Date",desc:"07/07/2021"}],lvl:{easy:6,normal:15,hard:19,expert:25,master:33},notes:[{note:"regular",posY:20,range:[2,4]}]},{name:"Po Pi Po",img:"./assets/po_pi_po_song.jpg",musicVideo:"./assets/po_pi_po.mp4",authors:["Hatsune Miku"],info:[{type:"Music",desc:"GigaP"}],lvl:{easy:6,normal:13,hard:18,expert:21,master:30},notes:[{note:"regular",posY:20,range:[2,4]}]},{name:"Ghost Rule",img:"./assets/ghost_rule_song.jpg",musicVideo:"./assets/ghost_rule.mp4",authors:["Hatsune Miku"],info:[{type:"Release Date",desc:"07/07/2021"},{type:"Music",desc:"GigaP"}],lvl:{easy:5,normal:14,hard:20,expert:22,master:29},notes:[{note:"regular",posY:20,range:[2,4]}]},{name:"Miku",img:"./assets/miku.jpg",musicVideo:"./assets/miku.mp4",authors:["Hatsune Miku"],info:[{type:"Release Date",desc:"27/05/2016"},{type:"Music",desc:"Anamanaguchi"}],lvl:{easy:5,normal:14,hard:20,expert:22,master:29},notes:[{note:"regular",posY:20,range:[2,4]}]},{name:"Remote Controller",img:"./assets/remote_controller.jpg",musicVideo:"./assets/remote_controller.mp4",authors:["Kagamine Rin","Kagamine Len"],info:[{type:"Release Date",desc:"27/05/2016"},{type:"Music",desc:"Anamanaguchi"}],lvl:{easy:5,normal:14,hard:20,expert:22,master:29},notes:[{note:"regular",posY:20,range:[2,4]}]},{name:"Sister's mercy",img:"./assets/sisters_mercy.jpg",musicVideo:"./assets/sisters_mercy.mp4",authors:["Kagamine Rin","Kagamine Len"],info:[{type:"Release Date",desc:"27/05/2016"}],lvl:{easy:5,normal:14,hard:20,expert:22,master:29},notes:[{note:"regular",posY:20,range:[2,4]}]}],s=[{name:"Hatsune Miku",img:"./assets/Hatsune_Miku_pfp.png",desc:"Hatsune Miku (Japanese : 初音ミク) is a Japanese virtual singer created by Crypton Future Media",badges:[{type:"Age",desc:16},{type:"Release",desc:2007}]},{name:"Emu Otori",img:"./assets/Emu_pfp.png",desc:"Otori Emu (鳳えむ) is a first-year student at Miyamasuzaka Girls Academy.",badges:[{type:"Height",desc:"152cm"},{type:"Age",desc:16}]},{name:"Kagamine Rin",img:"./assets/Rin_pfp.png",desc:"Kagamine Rin & Len（鏡音リン・レン, kagamine rin to ren) is the third issue of Vocaloid 2, featuring the voices of two characters - Rin (girl) and Len (boy).",badges:[{type:"Illustration",desc:"KEI"}]},{name:"All Vocaloids"}];e.p,e.p,e.p,e.p,e.p,e.p,document.addEventListener("DOMContentLoaded",(()=>{const e=new class{constructor(e,t){this.isGameMuted=!0,this.chosenDifficulty="normal",this.scroll=0,this.curSongId=0,this.musicVideoTimeout=null,this.musicVideoInterval=null,this.handleCreateVocaloid=(e,t)=>{const s=document.createElement("li");if(s.classList.add("start__vocaloid"),"all"===t){s.classList.add("start__vocaloid--all","start__vocaloid--selected");const e=document.createElement("header");e.classList.add("start__vocaloid-name","start__vocaloid--all__name"),e.textContent="All Vocaloids",s.appendChild(e)}else{s.setAttribute("data-vocaloid",e.name);const t=document.createElement("div");t.classList.add("start__vocaloid-profile");const a=document.createElement("img");e.img&&(a.src=e.img),a.classList.add("start__vocaloid-pfp"),t.appendChild(a);const o=document.createElement("div");o.classList.add("start__vocaloid-info");const n=document.createElement("header");n.classList.add("start__vocaloid-name"),n.textContent=e.name;const l=document.createElement("p");l.classList.add("start__vocaloid-desc"),e.desc&&(l.textContent=e.desc);const i=document.createElement("ul");if(i.classList.add("start__vocaloid-badges"),e.badges)for(const t of e.badges){const e=document.createElement("li");let s;switch(t.type){case"Release":s="start__badge--release";break;case"Height":s="start__badge--height";break;case"Age":s="start__badge--age";break;case"Illustration":s="start__badge--illustration"}e.classList.add("start__vocaloid-badge"),e.classList.add(s||"unknown"),e.textContent+=t.type,e.textContent+=` ${t.desc}`,i.appendChild(e)}o.appendChild(n),o.appendChild(l),o.appendChild(i),s.appendChild(t),s.appendChild(o)}return s},this.handleCreateSong=(e,t)=>{const s=document.createElement("li");s.className="start__song";const a=document.createElement("div");a.className="start__song-pic";const o=document.createElement("img");o.className="start__song-img",o.src=e.img,a.appendChild(o);const n=document.createElement("div");n.className="start__song-about";const l=document.createElement("h1");l.className="start__song-title",l.textContent=e.name;const i=document.createElement("div");i.className="start__song-authors__container";const c=document.createElement("p");c.className="start__song-authors "+(0===t?"start__song-authors--slide-animation":""),i.appendChild(c);for(const[t,s]of e.authors.entries())c.textContent+=`${s}${t<e.authors.length-1?",":""} `;const r=document.createElement("h5");if(r.className="start__song-info",e.info)for(const[t,s]of e.info.entries())r.innerHTML+=`${s.type}: ${s.desc} ${t<e.info.length-1?"&bull;":""} `;n.appendChild(l),n.appendChild(i),n.appendChild(r);const d=document.createElement("div");d.className="start__song-level__overlay";const u=document.createElement("h5");u.className="start__song-lvl",u.textContent="lvl";const h=document.createElement("p");return h.className="start__song-level","auto"!==this.chosenDifficulty?h.textContent=`${e.lvl[this.chosenDifficulty]}`:(h.textContent="--",u.style.color="#606060",h.style.color="#878787"),d.appendChild(u),d.appendChild(h),s.appendChild(a),s.appendChild(n),s.appendChild(d),s},this.handleShowMusicVideo=()=>{const e=document.querySelector(".start__background-video"),t=this.songsLoaded[this.curSongId];e&&(e.src=t.musicVideo,e.style.display="none",this.musicVideoTimeout=setTimeout((()=>{const t=e.duration,s=(new class{constructor(){}int(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}).int(1*t/3,2*t/3);e.currentTime=s,this.isGameMuted||(e.volume=.2,e.style.display="block",e.play(),this.musicVideoInterval=setInterval((()=>{e.currentTime=s}),12e3))}),750))},this.handleListScroll=(e,t,s)=>{if(e.preventDefault(),this.scroll++,this.scroll%12!=0)return;const a=new Audio;a.src="../../assets/song-scroll.mp3";const o=document.querySelectorAll(".start__song")[this.curSongId],n=document.querySelectorAll(".start__song-authors")[this.curSongId];if(e.deltaY>0){if(this.curSongId===this.songsLoaded.length-1)return;this.curSongId++,document.querySelectorAll(".start__song")[this.curSongId].classList.add("start__song--selected"),clearTimeout(this.musicVideoTimeout),clearInterval(this.musicVideoInterval),n.classList.remove("start__song-authors--slide-animation"),o.classList.remove("start__song--selected");const e=document.querySelectorAll(".start__song-authors")[this.curSongId];return e&&e.textContent&&e.textContent.length>20&&e.classList.add("start__song-authors--slide-animation"),this.handleViewSong(),this.handleShowMusicVideo(),null==s||s.scrollTo({top:s.scrollTop+t,left:0,behavior:"smooth"}),void(this.isGameMuted||a.play())}if(0===this.curSongId)return;this.curSongId--,clearTimeout(this.musicVideoTimeout),clearInterval(this.musicVideoInterval),document.querySelectorAll(".start__song")[this.curSongId].classList.add("start__song--selected"),n.classList.remove("start__song-authors--slide-animation"),o.classList.remove("start__song--selected"),this.handleShowMusicVideo();const l=document.querySelectorAll(".start__song-authors")[this.curSongId];l&&l.textContent&&l.textContent.length>20&&l.classList.add("start__song-authors--slide-animation"),this.handleViewSong(),null==s||s.scrollTo({top:s.scrollTop-t,left:0,behavior:"smooth"}),this.isGameMuted||a.play()},this.handleListWheel=e=>{const t=document.querySelector(".start__songs-list");this.handleListScroll(e,76,t)},this.handleInitializeList=()=>{const e=document.querySelector(".start__songs-list");this.curSongId=0,this.handleViewSong(),0!==this.songsLoaded.length&&(document.querySelectorAll(".start__song")[this.curSongId].classList.add("start__song--selected"),clearTimeout(this.musicVideoTimeout),clearInterval(this.musicVideoInterval),this.handleShowMusicVideo(),this.songsLoaded.length>1&&(null==e||e.addEventListener("wheel",this.handleListWheel)))},this.handleShowSongs=e=>{const t=document.querySelectorAll(".start__song"),s=document.querySelectorAll(".start__vocaloid"),a=document.querySelector(".start__songs-list");null==a||a.removeEventListener("wheel",this.handleListWheel);for(const e of s)e.classList.remove("start__vocaloid--selected");const o=document.querySelector(e?`[data-vocaloid="${e}"]`:".start__vocaloid--all");null==o||o.classList.add("start__vocaloid--selected");for(const e of t)e.remove();const n=document.querySelector(".start__empty-list");if(null==n||n.remove(),a&&(a.scrollTop=0),this.songsLoaded=null!==e?[...this.songs.filter((t=>t.authors.includes(e)))]:this.songs,0===this.songsLoaded.length){const e=document.createElement("h1");return e.className="start__empty-list",e.textContent="Lista nie zawiera piosenek!",void(null==a||a.appendChild(e))}for(const[e,t]of this.songsLoaded.entries()){const s=this.handleCreateSong(t,e);null==a||a.appendChild(s)}this.handleInitializeList()},this.handleInitializeMuteOption=()=>{const e=document.querySelector(".start__mute-i"),t=document.querySelector(".start__mute-i__muted");null==e||e.addEventListener("click",(()=>{this.isGameMuted=!this.isGameMuted,t&&(t.style.opacity=this.isGameMuted?"1":"0")}))},this.songs=e,this.songsLoaded=e,this.vocaloids=t}handleCreateIcon(e){const t=document.createElement("i");switch(e){case"Release Date":t.classList.add("fa-solid"),t.classList.add("fa-calendar-days");break;case"Music":t.classList.add("fa-solid"),t.classList.add("fa-music");break;default:t.classList.add("unknown")}return t}handleCreateBadge(e,t){const s=document.createElement("li");s.classList.add("start__song-badge");const a=this.handleCreateIcon(e);s.appendChild(a);const o=document.createElement("h5");return o.classList.add("start__song-badge__desc"),o.textContent=`${t}`,s.appendChild(o),s}handleViewSong(){const e=document.querySelector(".start__selected-song__img"),t=document.querySelector(".start__song-header"),s=document.querySelector(".start__selected-song__authors"),a=this.songsLoaded[this.curSongId];if(!e||!t||!s)return;const o=document.querySelectorAll(".start__song-badge");for(const e of o)e.remove();e.src=a.img,t.textContent=a.name,s.textContent="";for(const[e,t]of a.authors.entries())e!==a.authors.length-1?s.textContent+=`${t}, `:s.textContent+=t;const n=document.querySelector(".start__song-badges");if(n)for(const e of a.info){const{type:t,desc:s}=e,a=this.handleCreateBadge(t,s);n.appendChild(a)}}handlePickDifficulty(e){const t=document.querySelectorAll(".start__song-lvl"),s=document.querySelectorAll(".start__song-level"),a=document.querySelector(".start__bg-glow"),o=document.querySelector(".start__chosen-song__bg"),n=document.querySelectorAll(".start__lvl"),l=document.querySelector(`[data-difficulty=${e}]`);null==l||l.classList.remove(`start__lvl--${this.chosenDifficulty}`),null==a||a.classList.remove(`start__bg-glow--${this.chosenDifficulty}`),null==o||o.classList.remove(`start__chosen-song__bg--${this.chosenDifficulty}`);for(const e of n){const t=e.getAttribute("data-difficulty");e.classList.remove(`start__lvl--${t}`)}if(this.chosenDifficulty=e,null==l||l.classList.add(`start__lvl--${e}`),null==a||a.classList.add(`start__bg-glow--${e}`),null==o||o.classList.add(`start__chosen-song__bg--${e}`),t&&s)if("auto"!==e)for(const[a,o]of s.entries())t[a].style.color="#47bfd7",o.style.color="#0c7baf",o.textContent=`${this.songsLoaded[a].lvl[e]}`;else for(let e=0;e<this.songsLoaded.length;e++)t[e].style.color="#606060",s[e].style.color="#878787",s[e].textContent="--"}handleShowVocaloids(){const e=document.querySelector(".start__vocaloids-list");for(const t of this.vocaloids){const s="All Vocaloids"===t.name?this.handleCreateVocaloid(t,"all"):this.handleCreateVocaloid(t,"regular");null==e||e.appendChild(s)}}}(t,s);e.handleShowSongs(null),e.handleInitializeMuteOption(),e.handleShowVocaloids(),document.querySelectorAll(".start__vocaloid").forEach((t=>{t.addEventListener("click",(()=>{const s=null==t?void 0:t.getAttribute("data-vocaloid");e.handleShowSongs(s)}))}));const a=document.querySelectorAll(".start__lvl"),o=document.querySelector(".start__bg-glow"),n=document.querySelector(".start__chosen-song__bg"),l=document.querySelector(`[data-difficulty=${e.chosenDifficulty}]`);null==o||o.classList.add(`start__bg-glow--${e.chosenDifficulty}`),null==n||n.classList.add(`start__chosen-song__bg--${e.chosenDifficulty}`),null==l||l.classList.add(`start__lvl--${e.chosenDifficulty}`),a.forEach((t=>{t.addEventListener("click",(()=>{const s=t.getAttribute("data-difficulty");if(s!==e.chosenDifficulty){if(!e.isGameMuted){const e=new Audio;e.src="./assets/click.wav",e.play()}e.handlePickDifficulty(s)}}))}))}))})();